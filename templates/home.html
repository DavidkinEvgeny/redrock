{% extends "_base.html" %}


{% load static %}


{% block title %}Главная{% endblock title %}


{% block head %}
    <!-- Подключаем jQuery и slick-slider -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
{% endblock head %}


{% block content %}
<main>
    <div class="home">

            <div class="home__title">
                <h2>Мероприятия</h2>
            </div>

        <div class="carusel">
            
            {% for party in party_list %}
            {% if party.was_published == 'event_day' %}
                    
            <div class="carusel__item">
                <a href="{% url 'event' %}">
                    <div class="carusel__imgBox">
                        <img src="{{ party.preview.url }}" alt="{{ party.title }}">
                    </div>
                    <div class="carusel__title">
                        <h4>{{ party.title }}<br/><span>{{ party.event_date }}</span></h4>
                    </div>
                    <div class="carusel__balance">
                        <p>Осталось 10 <br> грёбаных дней</p>
                    </div>
                </a>
            </div> 
            {% endif %}
            {% endfor %}


        </div>
        <div class="home__text">
            <p> УAловите свое руки мощные  вдохновениевкладывает в ваши  творческие инструменты, которые обеспечивают абсолютный контроль над текстом. их помощью вы любым элементам тени,  эффекты с использованием прозрачности. Они позволят вам создавать элегантные таблицы. И не бойтесь экспериментировать у вас всегда ть отменить или выполнить повторно действия.
                Любая работа в продуктивность работы на всех этапах подготовки публикаций. Быстродействие программы заметно возросло по сравнению с предыдущей версией. Многослойная документов очень удобна для управления объектами. несколько документов в книгу, вы можете последовательно пронумеровать страницы и сгенерировать общие оглавление и предметный  будет возможнос любые указатель. Надежность вывода файловблагодаря эффективному интерфейсу печати можете применять к  достигается растушевку и другие.редактируемые Объединив структура срокповышает 
                Уловите свое вдохновениевкладывает в ваши руки мощные творческие ин¬струменты, которые обеспечивают  абсолютный контроль над текстом. их помощью вы можете применять к любым элементам тени, растушевку и другие редактируемые эффекты с использованием прозрач</p>
        </div>
        <div class="home__title">
            <h2>Былое</h2>
        </div>

        <div class="galery">
            
            {% for party in party_list %}
            {% if party.was_published == 'past_day' %}
            <div class="galery__item">
                <a href="{% url 'detail' party.id %}"><img src="{{ party.preview.url }}" alt="{{ party.title }}"></a>
            </div>
            {% endif %}
            {% endfor %}

        </div>
    </div>
</main>


{% endblock content %}


{% block javascript %}
<script>
    $(document).ready(function(){
        $('.carusel').slick({
            infinite: true,
            slidesToShow: 3,
            slidesToScroll: 1,
            autoplay: true,
            autoplaySpeed: 1500,
            prevArrow: '<div class="slick-prev"><img src="{% static "img/arrowLeft.png" %}"></div>',
            nextArrow: '<div class="slick-next"><img src="{% static "img/arrowRight.png" %}"></div>', 
        });
    });
</script>
{% endblock javascript %}